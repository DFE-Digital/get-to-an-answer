@page "/admin/questionnaires/{questionnaireId:guid}/contributors/add"
@addTagHelper *, Common
@using Common.Enum
@model Admin.Pages.Contributors.AddContributor

@{
  Layout = "_Layout";
  ViewData["Title"] = "Add a contributor";
}

@section BeforeContent
{
  <a class="govuk-back-link govuk-!-display-none-print" href="@Model?.BackLinkSlug">Back</a>
}

@if (Model!.HasErrors())
{
  @await Html.PartialAsync("_ErrorSummary")
}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    
    
    <form method="post" accept-charset="UTF-8">
      <!-- Contributor Email -->
      <govuk-form-group asp-for="@Model.ContributorEmail">
        <fieldset class="govuk-fieldset" aria-describedby="finished-hint">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">
              <span class="govuk-caption-l">@Model.QuestionnaireTitle</span>
              Add contributor
            </h1>
            <dl class="govuk-!-margin-bottom-7">
              <dt class="govuk-visually-hidden">Status</dt>
              <dd class="govuk-!-margin-0"><strong class="govuk-tag" data-status="@Model?.QuestionnaireStatus">@Model?.QuestionnaireStatus</strong>
              </dd>
            </dl>
          </legend>

          <div id="finished-hint" class="govuk-hint">
            <p>Add a DfE email address that you want to give edit access.</p>

            <p>After you add access, they will be able to see the questionnaire when they sign in or you can send them a link.</p> 
          </div>

          <govuk-field-error asp-for="@Model.ContributorEmail" error-id="ContributorEmail-error">
          </govuk-field-error>

          <govuk-input id="ContributorEmail"
                       class="govuk-input"
                       aria-describedby="ContributorEmail-hint"
                       type="text"
                       asp-for="ContributorEmail"
                       value="@Model.ContributorEmail"
                       govuk-error-for="@Model.ContributorEmail"/>
        </fieldset>
      </govuk-form-group>

      <button class="govuk-button" type="submit" formnovalidate="formnovalidate" data-module="govuk-button"
              data-prevent-double-click="true" asp-page-handler="SaveAndContinue">
        Save and continue
      </button>
    </form>
  </div>
</div>