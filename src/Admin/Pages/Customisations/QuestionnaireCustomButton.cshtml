@page "/admin/questionnaires/{questionnaireId:guid}/edit-continue-button"
@addTagHelper *, Common
@model Admin.Pages.Customisations.QuestionnaireCustomButton

@{
    Layout = "Shared/_Layout";
    
    ViewData["Title"] = "Edit button text";

    const string continueButtonTextId = "continue-button-text";
}

@section BeforeContent
{
    <a class="govuk-back-link govuk-!-display-none-print" href="/admin/questionnaires/@Model?.Questionnaire?.Id/track">Back</a>
}

@if (Model!.HasErrors())
{
    @await Html.PartialAsync("_ErrorSummary")
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <h1 class="govuk-heading-l govuk-!-margin-0">
            <span class="govuk-caption-l">@Model.QuestionnaireTitle</span>
            @ViewData["Title"]
        </h1>

        <div class="govuk-hint govuk-!-margin-bottom-8 govuk-!-margin-top-4">
            <p>Buttons with the text 'Continue' appear after every question.</p>

            <p>You can change this text if you need to, as long as it's clear and concise.</p>
        </div>

        <div class="govuk-warning-text govuk-!-margin-bottom-4 govuk-!-margin-top-4">
            <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
            <strong class="govuk-warning-text__text">
                <span class="govuk-visually-hidden">Warning</span>
                Do not edit the button text unless there is a clear user or business need.
            </strong>
        </div>

        <form accept-charset="UTF-8" method="post">
            <govuk-form-group asp-for="@Model.UpdateRequest.ContinueButtonText">
                <label for="@continueButtonTextId" class="govuk-label govuk-label--m">
                    Button text
                </label>

                <div class="govuk-hint" id="@continueButtonTextId-hint">
                    Enter text to replace all 'Continue' button text.
                </div>

                <govuk-field-error asp-for="@Model.UpdateRequest.ContinueButtonText" error-id="@continueButtonTextId-error"/>

                <govuk-input id="@continueButtonTextId"
                             class="govuk-input"
                             aria-describedby="@continueButtonTextId-hint"
                             type="text"
                             asp-for="@Model.UpdateRequest.ContinueButtonText"
                             value="@(Model?.UpdateRequest.ContinueButtonText ?? "")"
                             govuk-error-for="@Model?.UpdateRequest.ContinueButtonText"/>
            </govuk-form-group>

            <button type="submit" formnovalidate="formnovalidate" class="govuk-button" data-module="govuk-button"
                    data-prevent-double-click="true" data-govuk-button-init="">Save and continue
            </button>
        </form>
    </div>
</div>